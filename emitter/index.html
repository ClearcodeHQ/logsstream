<html>
  <head>
    <title>Logs stream simple emitter</title>
  </head>
  <body>
    <h1>Logs emitter</h1>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script>
      var services = [
        { port: 7701, service: "Apache" },
        { port: 7702, service: "Nginx" },
        { port: 7701, service: "Apache" },
        { port: 7702, service: "Nginx" },
      ];
      var paths = [
        '/',
        '/404'
      ]
      var methods = [
        'GET',
        'POST',
        'HEAD',
        'PUT'
      ]

      function emitLog() {
        var port = services[getRandomInt(0,services.length)].port;
        var path = paths[getRandomInt(0,paths.length)];
        var method = methods[getRandomInt(0,methods.length)];
        
        $.ajax({
          cache: false,
          method: method,
          url:'http://localhost:' + port  + path
        });
      }

      function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }
      
      setInterval(emitLog, 10);
    </script>
  </body>
</html>